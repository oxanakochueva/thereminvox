{"ast":null,"code":"var _jsxFileName = \"/Users/oxana/thereminvox/app/javascript/containers/Synth.jsx\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport _ from 'lodash';\nimport React from 'react';\nimport Tone from 'tone';\nimport * as effects from '../tunes/effects';\nimport * as parts from '../tunes/parts';\nimport * as synths from '../tunes/synths';\nimport AutoFilter from '../components/effects/AutoFilter';\nimport AutoPanner from '../components/effects/AutoPanner';\nimport AutoWah from '../components/effects/AutoWah';\nimport BitCrusher from '../components/effects/BitCrusher';\nimport Chebyshev from '../components/effects/Chebyshev';\nimport Chorus from '../components/effects/Chorus';\nimport Distortion from '../components/effects/Distortion';\nimport FeedbackDelay from '../components/effects/FeedbackDelay';\nimport FeedbackEffect from '../components/effects/FeedbackEffect';\nimport Freeverb from '../components/effects/Freeverb';\nimport JcReverb from '../components/effects/JcReverb';\nimport Phaser from '../components/effects/Phaser';\nimport PingPongDelay from '../components/effects/PingPongDelay';\nimport PitchShift from '../components/effects/PitchShift';\nimport Reverb from '../components/effects/Reverb';\nimport StereoWidener from '../components/effects/StereoWidener';\nimport Tremolo from '../components/effects/Tremolo';\nimport Vibrato from '../components/effects/Vibrato';\nimport PartSynth from '../components/synths/PartSynth'; // import NoiseSynth from '../components/synths/NoiseSynth'\n\nimport PolySynth from '../components/synths/PolySynth';\nimport MetalSynth from '../components/synths/MetalSynth';\n\nvar Synth =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Synth, _React$Component);\n\n  function Synth(props) {\n    var _this;\n\n    _classCallCheck(this, Synth);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Synth).call(this, props));\n    var defaultWetValue = 0;\n    var metalSynth = synths.metalSynth();\n    var metalAutoFilter = effects.autoFilter();\n    var metalChorus = effects.chorus();\n    var metalDistortion = effects.distortion();\n    var metalFeedbackDelay = effects.feedbackDelay();\n    var metalFreeverb = effects.freeverb();\n    var metalPhaser = effects.phaser();\n    var metalPingPongDelay = effects.pingPongDelay();\n    var leadSynth = synths.polySynth();\n    var leadAutoPanner = effects.autoPanner();\n    var leadChebyshev = effects.chebyshev();\n    var leadDistortion = effects.distortion();\n    var leadFeedbackEffect = effects.feedbackEffect();\n    var leadVibrato = effects.vibrato();\n    var baseSynth = synths.partSynth().toMaster();\n    var loop1 = new Tone.Loop(function (time) {\n      metalSynth.triggerAttackRelease('C2', '8n', time);\n    }, '4n');\n    var loop3 = new Tone.Loop(function (time) {\n      leadSynth.triggerAttackRelease('C4', '1m', time);\n    }, '1m');\n    var part1 = new Tone.Part(function (time) {\n      baseSynth.triggerAttackRelease(time, 0.5);\n    }, '16n');\n    metalSynth.chain(metalAutoFilter, metalChorus, metalDistortion, metalFeedbackDelay, metalFreeverb, metalPhaser, metalPingPongDelay, Tone.Master);\n    metalPingPongDelay.toMaster();\n    leadSynth.chain(leadAutoPanner, leadChebyshev, leadDistortion, leadFeedbackEffect, leadVibrato, Tone.Master);\n    _this.state = {\n      baseSynth: baseSynth,\n      metalSynth: metalSynth,\n      metalAutoFilter: {\n        name: 'metalAutoFilter',\n        effect: metalAutoFilter,\n        wet: defaultWetValue,\n        on: false\n      },\n      metalChorus: {\n        name: 'metalChorus',\n        effect: metalChorus,\n        wet: defaultWetValue,\n        on: false\n      },\n      metalDistortion: {\n        name: 'metalDistortion',\n        effect: metalDistortion,\n        wet: defaultWetValue,\n        on: false\n      },\n      metalFeedbackDelay: {\n        name: 'metalFeedbackDelay',\n        effect: metalFeedbackDelay,\n        wet: defaultWetValue,\n        on: false\n      },\n      metalFreeverb: {\n        name: 'metalFreeverb',\n        effect: metalFreeverb,\n        wet: defaultWetValue,\n        on: false\n      },\n      metalPhaser: {\n        name: 'metalPhaser',\n        effect: metalPhaser,\n        wet: defaultWetValue,\n        on: false\n      },\n      metalPingPongDelay: {\n        name: 'metalPingPongDelay',\n        effect: metalPingPongDelay,\n        wet: defaultWetValue,\n        on: false\n      },\n      leadSynth: leadSynth,\n      leadAutoPanner: {\n        name: 'leadAutoPanner',\n        effect: leadAutoPanner,\n        wet: defaultWetValue,\n        on: false\n      },\n      leadChebyshev: {\n        name: 'leadChebyshev',\n        effect: leadChebyshev,\n        wet: defaultWetValue,\n        on: false\n      },\n      leadDistortion: {\n        name: 'leadDistortion',\n        effect: leadDistortion,\n        wet: defaultWetValue,\n        on: false\n      },\n      leadFeedbackEffect: {\n        name: 'leadFeedbackEffect',\n        effect: leadFeedbackEffect,\n        wet: defaultWetValue,\n        on: false\n      },\n      leadVibrato: {\n        name: 'leadVibrato',\n        effect: leadVibrato,\n        wet: defaultWetValue,\n        on: false\n      },\n      loop1: {\n        loop: loop1,\n        on: false\n      },\n      loop3: {\n        loop: loop3,\n        on: false\n      },\n      part1: {\n        part: parts.part1(baseSynth),\n        on: false\n      },\n      lastChange: Date.now(),\n      timeout: 100\n    };\n\n    _.bindAll(_assertThisInitialized(_this), 'toggleLoop', 'togglePart', 'changeSynthValue', 'toggleEffect', 'changeEffectWetValue', 'changeEffectValue');\n\n    Tone.Transport.bpm.value = 130;\n    Tone.Transport.start();\n    return _this;\n  }\n\n  _createClass(Synth, [{\n    key: \"toggleLoop\",\n    value: function toggleLoop(loopName) {\n      var _this$state$loopName = this.state[loopName],\n          loop = _this$state$loopName.loop,\n          on = _this$state$loopName.on;\n      on == true ? loop.stop() : loop.start('0m');\n      this.setState(_defineProperty({}, \"\".concat(loopName), {\n        loop: loop,\n        on: !on\n      }));\n    }\n  }, {\n    key: \"togglePart\",\n    value: function togglePart(partName) {\n      var _this$state$partName = this.state[partName],\n          part = _this$state$partName.part,\n          on = _this$state$partName.on;\n\n      if (on == true) {\n        part.stop();\n      } else {\n        console.log('yo');\n        part.at('1m');\n        part.start(0);\n        part.loop = true;\n        part.loopEnd = '8m';\n      }\n\n      this.setState(_defineProperty({}, \"\".concat(partName), {\n        part: part,\n        on: !on\n      }));\n    }\n  }, {\n    key: \"changeSynthValue\",\n    value: function changeSynthValue(synthName, effectName, value) {\n      var synth = this.state[synthName];\n      var envelope = synth.instrument.envelope;\n      envelope[effectName] = value;\n      this.setState(_defineProperty({}, \"\".concat(effectName), {\n        oscillator: synth.instrument.oscillator,\n        envelope: envelope\n      }));\n    }\n  }, {\n    key: \"toggleEffect\",\n    value: function toggleEffect(effectName) {\n      var _this$state$effectNam = this.state[effectName],\n          effect = _this$state$effectNam.effect,\n          wet = _this$state$effectNam.wet,\n          on = _this$state$effectNam.on;\n      effect.wet.value = on == true ? 0 : wet;\n      on = !on;\n      this.setState(_defineProperty({}, \"\".concat(effectName), {\n        effect: effect,\n        wet: wet,\n        on: on\n      }));\n    }\n  }, {\n    key: \"changeEffectWetValue\",\n    value: function changeEffectWetValue(effectName, value) {\n      var _this$state$effectNam2 = this.state[effectName],\n          effect = _this$state$effectNam2.effect,\n          wet = _this$state$effectNam2.wet,\n          on = _this$state$effectNam2.on;\n      effect.wet.value = on == true ? value : 0;\n      wet = value;\n      this.setState(_defineProperty({}, \"\".concat(effectName), {\n        effect: effect,\n        wet: wet,\n        on: on\n      }));\n    }\n  }, {\n    key: \"changeEffectValue\",\n    value: function changeEffectValue(effectName, effectProperty, value) {\n      var _this$state$effectNam3 = this.state[effectName],\n          name = _this$state$effectNam3.name,\n          effect = _this$state$effectNam3.effect,\n          wet = _this$state$effectNam3.wet,\n          on = _this$state$effectNam3.on;\n\n      if (effectProperty == 'order') {\n        value = Math.round(value);\n      }\n\n      effect[effectProperty] = value;\n      this.setState(_defineProperty({}, \"\".concat(effectName), {\n        name: name,\n        effect: effect,\n        wet: wet,\n        on: on\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          leadSynth = _this$state.leadSynth,\n          leadAutoPanner = _this$state.leadAutoPanner,\n          leadChebyshev = _this$state.leadChebyshev,\n          leadDistortion = _this$state.leadDistortion,\n          leadFeedbackEffect = _this$state.leadFeedbackEffect,\n          leadVibrato = _this$state.leadVibrato,\n          metalSynth = _this$state.metalSynth,\n          metalAutoFilter = _this$state.metalAutoFilter,\n          metalChorus = _this$state.metalChorus,\n          metalDistortion = _this$state.metalDistortion,\n          metalFeedbackDelay = _this$state.metalFeedbackDelay,\n          metalFreeverb = _this$state.metalFreeverb,\n          metalPhaser = _this$state.metalPhaser,\n          metalPingPongDelay = _this$state.metalPingPongDelay,\n          baseSynth = _this$state.baseSynth,\n          loop1 = _this$state.loop1,\n          loop3 = _this$state.loop3,\n          part1 = _this$state.part1;\n      var _toggleEffect = this.toggleEffect,\n          toggleLoop = this.toggleLoop,\n          togglePart = this.togglePart,\n          changeSynthValue = this.changeSynthValue,\n          changeEffectWetValue = this.changeEffectWetValue,\n          changeEffectValue = this.changeEffectValue,\n          changeEffectFilterValue = this.changeEffectFilterValue;\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"yellowSynth\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, React.createElement(MetalSynth, {\n        synth: \"metalSynth\",\n        instrument: metalSynth,\n        on: loop1.on,\n        togglePlay: function togglePlay() {\n          return toggleLoop('loop1');\n        },\n        changeSynthValue: this.changeSynthValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }), React.createElement(AutoFilter, Object.assign({}, metalAutoFilter, {\n        toggleEffect: function toggleEffect() {\n          return _toggleEffect('metalAutoFilter');\n        },\n        changeEffectWetValue: changeEffectWetValue,\n        changeEffectValue: changeEffectValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      })), React.createElement(Chorus, Object.assign({}, metalChorus, {\n        toggleEffect: function toggleEffect() {\n          return _toggleEffect('metalChorus');\n        },\n        changeEffectWetValue: changeEffectWetValue,\n        changeEffectValue: changeEffectValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      })), React.createElement(Distortion, Object.assign({}, metalDistortion, {\n        toggleEffect: function toggleEffect() {\n          return _toggleEffect('metalDistortion');\n        },\n        changeEffectWetValue: changeEffectWetValue,\n        changeEffectValue: changeEffectValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      })), React.createElement(FeedbackDelay, Object.assign({}, metalFeedbackDelay, {\n        toggleEffect: function toggleEffect() {\n          return _toggleEffect('metalFeedbackDelay');\n        },\n        changeEffectWetValue: changeEffectWetValue,\n        changeEffectValue: changeEffectValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      })), React.createElement(Freeverb, Object.assign({}, metalFreeverb, {\n        toggleEffect: function toggleEffect() {\n          return _toggleEffect('metalFreeverb');\n        },\n        changeEffectWetValue: changeEffectWetValue,\n        changeEffectValue: changeEffectValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      })), React.createElement(Phaser, Object.assign({}, metalPhaser, {\n        toggleEffect: function toggleEffect() {\n          return _toggleEffect('metalPhaser');\n        },\n        changeEffectWetValue: changeEffectWetValue,\n        changeEffectValue: changeEffectValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365\n        },\n        __self: this\n      })), React.createElement(PingPongDelay, Object.assign({}, metalPingPongDelay, {\n        toggleEffect: function toggleEffect() {\n          return _toggleEffect('metalPingPongDelay');\n        },\n        changeEffectWetValue: changeEffectWetValue,\n        changeEffectValue: changeEffectValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"redSynth\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"effectsBoard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379\n        },\n        __self: this\n      }, React.createElement(PolySynth, {\n        synth: \"baseSynth\",\n        instrument: baseSynth,\n        on: part1.on,\n        togglePlay: function togglePlay() {\n          return toggleLoop('part1');\n        },\n        changeSynthValue: this.changeSynthValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"whiteSynth\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390\n        },\n        __self: this\n      }, React.createElement(PolySynth, {\n        synth: \"leadSynth\",\n        instrument: leadSynth,\n        on: loop3.on,\n        togglePlay: function togglePlay() {\n          return togglePart('loop3');\n        },\n        changeSynthValue: changeSynthValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391\n        },\n        __self: this\n      }), React.createElement(AutoPanner, Object.assign({}, leadAutoPanner, {\n        toggleEffect: function toggleEffect() {\n          return _toggleEffect('leadAutoPanner');\n        },\n        changeEffectWetValue: changeEffectWetValue,\n        changeEffectValue: changeEffectValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398\n        },\n        __self: this\n      })), React.createElement(Chebyshev, Object.assign({}, leadChebyshev, {\n        toggleEffect: function toggleEffect() {\n          return _toggleEffect('leadChebyshev');\n        },\n        changeEffectWetValue: changeEffectWetValue,\n        changeEffectValue: changeEffectValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      })), React.createElement(Distortion, Object.assign({}, leadDistortion, {\n        toggleEffect: function toggleEffect() {\n          return _toggleEffect('leadDistortion');\n        },\n        changeEffectWetValue: changeEffectWetValue,\n        changeEffectValue: changeEffectValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410\n        },\n        __self: this\n      })), React.createElement(FeedbackEffect, Object.assign({}, leadFeedbackEffect, {\n        toggleEffect: function toggleEffect() {\n          return _toggleEffect('leadFeedbackEffect');\n        },\n        changeEffectWetValue: changeEffectWetValue,\n        changeEffectValue: changeEffectValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416\n        },\n        __self: this\n      })), React.createElement(Vibrato, Object.assign({}, leadVibrato, {\n        toggleEffect: function toggleEffect() {\n          return _toggleEffect('leadVibrato');\n        },\n        changeEffectWetValue: changeEffectWetValue,\n        changeEffectValue: changeEffectValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"darkSynth\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Synth;\n}(React.Component);\n\nexport { Synth as default };","map":{"version":3,"sources":["/Users/oxana/thereminvox/app/javascript/containers/Synth.jsx"],"names":["_","React","Tone","effects","parts","synths","AutoFilter","AutoPanner","AutoWah","BitCrusher","Chebyshev","Chorus","Distortion","FeedbackDelay","FeedbackEffect","Freeverb","JcReverb","Phaser","PingPongDelay","PitchShift","Reverb","StereoWidener","Tremolo","Vibrato","PartSynth","PolySynth","MetalSynth","Synth","props","defaultWetValue","metalSynth","metalAutoFilter","autoFilter","metalChorus","chorus","metalDistortion","distortion","metalFeedbackDelay","feedbackDelay","metalFreeverb","freeverb","metalPhaser","phaser","metalPingPongDelay","pingPongDelay","leadSynth","polySynth","leadAutoPanner","autoPanner","leadChebyshev","chebyshev","leadDistortion","leadFeedbackEffect","feedbackEffect","leadVibrato","vibrato","baseSynth","partSynth","toMaster","loop1","Loop","time","triggerAttackRelease","loop3","part1","Part","chain","Master","state","name","effect","wet","on","loop","part","lastChange","Date","now","timeout","bindAll","Transport","bpm","value","start","loopName","stop","setState","partName","console","log","at","loopEnd","synthName","effectName","synth","envelope","instrument","oscillator","effectProperty","Math","round","toggleEffect","toggleLoop","togglePart","changeSynthValue","changeEffectWetValue","changeEffectValue","changeEffectFilterValue","Component"],"mappings":"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","sourcesContent":["import _ from 'lodash'\nimport React from 'react'\nimport Tone from 'tone'\n\nimport * as effects from '../tunes/effects'\nimport * as parts from '../tunes/parts'\nimport * as synths from '../tunes/synths'\n\nimport AutoFilter from '../components/effects/AutoFilter'\nimport AutoPanner from '../components/effects/AutoPanner'\nimport AutoWah from '../components/effects/AutoWah'\nimport BitCrusher from '../components/effects/BitCrusher'\nimport Chebyshev from '../components/effects/Chebyshev'\nimport Chorus from '../components/effects/Chorus'\nimport Distortion from '../components/effects/Distortion'\nimport FeedbackDelay from '../components/effects/FeedbackDelay'\nimport FeedbackEffect from '../components/effects/FeedbackEffect'\nimport Freeverb from '../components/effects/Freeverb'\nimport JcReverb from '../components/effects/JcReverb'\nimport Phaser from '../components/effects/Phaser'\nimport PingPongDelay from '../components/effects/PingPongDelay'\nimport PitchShift from '../components/effects/PitchShift'\nimport Reverb from '../components/effects/Reverb'\nimport StereoWidener from '../components/effects/StereoWidener'\nimport Tremolo from '../components/effects/Tremolo'\nimport Vibrato from '../components/effects/Vibrato'\n\nimport PartSynth from '../components/synths/PartSynth'\n// import NoiseSynth from '../components/synths/NoiseSynth'\nimport PolySynth from '../components/synths/PolySynth'\nimport MetalSynth from '../components/synths/MetalSynth'\n\nexport default class Synth extends React.Component {\n  constructor(props) {\n    super(props)\n\n    const defaultWetValue = 0\n\n    let metalSynth = synths.metalSynth()\n    let metalAutoFilter = effects.autoFilter()\n    let metalChorus = effects.chorus()\n    let metalDistortion = effects.distortion()\n    let metalFeedbackDelay = effects.feedbackDelay()\n    let metalFreeverb = effects.freeverb()\n    let metalPhaser = effects.phaser()\n    let metalPingPongDelay = effects.pingPongDelay()\n\n    let leadSynth = synths.polySynth()\n    let leadAutoPanner = effects.autoPanner()\n    let leadChebyshev = effects.chebyshev()\n    let leadDistortion = effects.distortion()\n    let leadFeedbackEffect = effects.feedbackEffect()\n    let leadVibrato = effects.vibrato()\n\n    let baseSynth = synths.partSynth().toMaster()\n\n    let loop1 = new Tone.Loop(function(time) {\n      metalSynth.triggerAttackRelease('C2', '8n', time)\n    }, '4n')\n\n    let loop3 = new Tone.Loop(function(time) {\n      leadSynth.triggerAttackRelease('C4', '1m', time)\n    }, '1m')\n\n    let part1 = new Tone.Part(function(time) {\n      baseSynth.triggerAttackRelease(time, 0.5)\n    }, '16n')\n\n    metalSynth.chain(\n      metalAutoFilter,\n      metalChorus,\n      metalDistortion,\n      metalFeedbackDelay,\n      metalFreeverb,\n      metalPhaser,\n      metalPingPongDelay,\n      Tone.Master\n    )\n    metalPingPongDelay.toMaster()\n\n    leadSynth.chain(\n      leadAutoPanner,\n      leadChebyshev,\n      leadDistortion,\n      leadFeedbackEffect,\n      leadVibrato,\n      Tone.Master\n    )\n\n    this.state = {\n      baseSynth,\n      metalSynth,\n      metalAutoFilter: {\n        name: 'metalAutoFilter',\n        effect: metalAutoFilter,\n        wet: defaultWetValue,\n        on: false\n      },\n      metalChorus: {\n        name: 'metalChorus',\n        effect: metalChorus,\n        wet: defaultWetValue,\n        on: false\n      },\n      metalDistortion: {\n        name: 'metalDistortion',\n        effect: metalDistortion,\n        wet: defaultWetValue,\n        on: false\n      },\n      metalFeedbackDelay: {\n        name: 'metalFeedbackDelay',\n        effect: metalFeedbackDelay,\n        wet: defaultWetValue,\n        on: false\n      },\n      metalFreeverb: {\n        name: 'metalFreeverb',\n        effect: metalFreeverb,\n        wet: defaultWetValue,\n        on: false\n      },\n      metalPhaser: {\n        name: 'metalPhaser',\n        effect: metalPhaser,\n        wet: defaultWetValue,\n        on: false\n      },\n      metalPingPongDelay: {\n        name: 'metalPingPongDelay',\n        effect: metalPingPongDelay,\n        wet: defaultWetValue,\n        on: false\n      },\n      leadSynth,\n      leadAutoPanner: {\n        name: 'leadAutoPanner',\n        effect: leadAutoPanner,\n        wet: defaultWetValue,\n        on: false\n      },\n      leadChebyshev: {\n        name: 'leadChebyshev',\n        effect: leadChebyshev,\n        wet: defaultWetValue,\n        on: false\n      },\n      leadDistortion: {\n        name: 'leadDistortion',\n        effect: leadDistortion,\n        wet: defaultWetValue,\n        on: false\n      },\n      leadFeedbackEffect: {\n        name: 'leadFeedbackEffect',\n        effect: leadFeedbackEffect,\n        wet: defaultWetValue,\n        on: false\n      },\n\n      leadVibrato: {\n        name: 'leadVibrato',\n        effect: leadVibrato,\n        wet: defaultWetValue,\n        on: false\n      },\n      loop1: {\n        loop: loop1,\n        on: false\n      },\n      loop3: {\n        loop: loop3,\n        on: false\n      },\n      part1: {\n        part: parts.part1(baseSynth),\n        on: false\n      },\n      lastChange: Date.now(),\n      timeout: 100\n    }\n\n    _.bindAll(\n      this,\n      'toggleLoop',\n      'togglePart',\n      'changeSynthValue',\n      'toggleEffect',\n      'changeEffectWetValue',\n      'changeEffectValue'\n    )\n\n    Tone.Transport.bpm.value = 130\n\n    Tone.Transport.start()\n  }\n\n  toggleLoop(loopName) {\n    let { loop, on } = this.state[loopName]\n\n    on == true ? loop.stop() : loop.start('0m')\n\n    this.setState({\n      [`${loopName}`]: {\n        loop: loop,\n        on: !on\n      }\n    })\n  }\n\n  togglePart(partName) {\n    let { part, on } = this.state[partName]\n\n    if (on == true) {\n      part.stop()\n    } else {\n      console.log('yo')\n      part.at('1m')\n      part.start(0)\n      part.loop = true\n      part.loopEnd = '8m'\n    }\n\n    this.setState({\n      [`${partName}`]: {\n        part: part,\n        on: !on\n      }\n    })\n  }\n\n  changeSynthValue(synthName, effectName, value) {\n    let synth = this.state[synthName]\n    let envelope = synth.instrument.envelope\n    envelope[effectName] = value\n\n    this.setState({\n      [`${effectName}`]: {\n        oscillator: synth.instrument.oscillator,\n        envelope: envelope\n      }\n    })\n  }\n\n  toggleEffect(effectName) {\n    let { effect, wet, on } = this.state[effectName]\n\n    effect.wet.value = on == true ? 0 : wet\n    on = !on\n\n    this.setState({\n      [`${effectName}`]: {\n        effect,\n        wet,\n        on\n      }\n    })\n  }\n\n  changeEffectWetValue(effectName, value) {\n    let { effect, wet, on } = this.state[effectName]\n\n    effect.wet.value = on == true ? value : 0\n    wet = value\n\n    this.setState({\n      [`${effectName}`]: {\n        effect,\n        wet,\n        on\n      }\n    })\n  }\n  changeEffectValue(effectName, effectProperty, value) {\n    let { name, effect, wet, on } = this.state[effectName]\n\n    if (effectProperty == 'order') {\n      value = Math.round(value)\n    }\n\n    effect[effectProperty] = value\n\n    this.setState({\n      [`${effectName}`]: {\n        name,\n        effect,\n        wet,\n        on\n      }\n    })\n  }\n\n  render() {\n    let {\n      leadSynth,\n      leadAutoPanner,\n      leadChebyshev,\n      leadDistortion,\n      leadFeedbackEffect,\n      leadVibrato,\n      metalSynth,\n      metalAutoFilter,\n      metalChorus,\n      metalDistortion,\n      metalFeedbackDelay,\n      metalFreeverb,\n      metalPhaser,\n      metalPingPongDelay,\n      baseSynth,\n      loop1,\n      loop3,\n      part1\n    } = this.state\n\n    let {\n      toggleEffect,\n      toggleLoop,\n      togglePart,\n      changeSynthValue,\n      changeEffectWetValue,\n      changeEffectValue,\n      changeEffectFilterValue\n    } = this\n\n    return (\n      <div className=\"container\">\n        <div className=\"yellowSynth\">\n          <MetalSynth\n            synth=\"metalSynth\"\n            instrument={metalSynth}\n            on={loop1.on}\n            togglePlay={() => toggleLoop('loop1')}\n            changeSynthValue={this.changeSynthValue}\n          />\n          <AutoFilter\n            {...metalAutoFilter}\n            toggleEffect={() => toggleEffect('metalAutoFilter')}\n            changeEffectWetValue={changeEffectWetValue}\n            changeEffectValue={changeEffectValue}\n          />\n          <Chorus\n            {...metalChorus}\n            toggleEffect={() => toggleEffect('metalChorus')}\n            changeEffectWetValue={changeEffectWetValue}\n            changeEffectValue={changeEffectValue}\n          />\n          <Distortion\n            {...metalDistortion}\n            toggleEffect={() => toggleEffect('metalDistortion')}\n            changeEffectWetValue={changeEffectWetValue}\n            changeEffectValue={changeEffectValue}\n          />\n          <FeedbackDelay\n            {...metalFeedbackDelay}\n            toggleEffect={() => toggleEffect('metalFeedbackDelay')}\n            changeEffectWetValue={changeEffectWetValue}\n            changeEffectValue={changeEffectValue}\n          />\n          <Freeverb\n            {...metalFreeverb}\n            toggleEffect={() => toggleEffect('metalFreeverb')}\n            changeEffectWetValue={changeEffectWetValue}\n            changeEffectValue={changeEffectValue}\n          />\n          <Phaser\n            {...metalPhaser}\n            toggleEffect={() => toggleEffect('metalPhaser')}\n            changeEffectWetValue={changeEffectWetValue}\n            changeEffectValue={changeEffectValue}\n          />\n          <PingPongDelay\n            {...metalPingPongDelay}\n            toggleEffect={() => toggleEffect('metalPingPongDelay')}\n            changeEffectWetValue={changeEffectWetValue}\n            changeEffectValue={changeEffectValue}\n          />\n        </div>\n        <div className=\"redSynth\">\n          <div className=\"effectsBoard\">\n            <PolySynth\n              synth=\"baseSynth\"\n              instrument={baseSynth}\n              on={part1.on}\n              togglePlay={() => toggleLoop('part1')}\n              changeSynthValue={this.changeSynthValue}\n            />\n          </div>\n        </div>\n\n        <div className=\"whiteSynth\">\n          <PolySynth\n            synth=\"leadSynth\"\n            instrument={leadSynth}\n            on={loop3.on}\n            togglePlay={() => togglePart('loop3')}\n            changeSynthValue={changeSynthValue}\n          />\n          <AutoPanner\n            {...leadAutoPanner}\n            toggleEffect={() => toggleEffect('leadAutoPanner')}\n            changeEffectWetValue={changeEffectWetValue}\n            changeEffectValue={changeEffectValue}\n          />\n          <Chebyshev\n            {...leadChebyshev}\n            toggleEffect={() => toggleEffect('leadChebyshev')}\n            changeEffectWetValue={changeEffectWetValue}\n            changeEffectValue={changeEffectValue}\n          />\n          <Distortion\n            {...leadDistortion}\n            toggleEffect={() => toggleEffect('leadDistortion')}\n            changeEffectWetValue={changeEffectWetValue}\n            changeEffectValue={changeEffectValue}\n          />\n          <FeedbackEffect\n            {...leadFeedbackEffect}\n            toggleEffect={() => toggleEffect('leadFeedbackEffect')}\n            changeEffectWetValue={changeEffectWetValue}\n            changeEffectValue={changeEffectValue}\n          />\n          <Vibrato\n            {...leadVibrato}\n            toggleEffect={() => toggleEffect('leadVibrato')}\n            changeEffectWetValue={changeEffectWetValue}\n            changeEffectValue={changeEffectValue}\n          />\n        </div>\n        <div className=\"darkSynth\"></div>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}